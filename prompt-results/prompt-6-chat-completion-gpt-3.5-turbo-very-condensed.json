{
  "result": "Throttle | value, wait | result | result | value\nfunction ({value, wait}, {result}, {state, onCleanup}) {\n  const lastValue = state.get(\"lastValue\");\n  const lastTime = state.get(\"lastTime\");\n\n  const now = Date.now();\n  if (!lastTime || now - lastTime >= wait) {\n    result.next(value);\n    state.set(\"lastValue\", value);\n    state.set(\"lastTime\", now);\n  }\n\n  if (lastTime) {\n    clearTimeout(state.get(\"timer\"));\n  }\n\n  const timer = setTimeout(() => {\n    result.next(value);\n    state.set(\"lastValue\", value);\n    state.set(\"lastTime\", now);\n  }, wait);\n\n  state.set(\"timer\", timer);\n  onCleanup(() => clearTimeout(state.get(\"timer\")));\n}",
  "tokens": 714,
  "completionTime": 4424,
  "generatorName": "chat-completion-gpt-3.5-turbo-very-condensed",
  "prompt": "Throttle a value",
  "score": 4,
  "remarks": "The part is well-written and follows the prompt, but it emits the value twice when the wait time is over.",
  "redid": false,
  "lastUpdated": "2023-08-27T15:04:04.639Z"
}